function cov_2f0fpvmyck(){var path="/Users/yakovlev-alex/Repos/battleship-nodejs-APS-SD-Dec-2021/battleship.js";var hash="1d97e7ba610c21de2e9ae4f8b78a0f105af17f6a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/yakovlev-alex/Repos/battleship-nodejs-APS-SD-Dec-2021/battleship.js",statementMap:{"0":{start:{line:1,column:23},end:{line:1,column:68}},"1":{start:{line:2,column:17},end:{line:2,column:37}},"2":{start:{line:3,column:13},end:{line:3,column:32}},"3":{start:{line:4,column:17},end:{line:4,column:56}},"4":{start:{line:5,column:16},end:{line:5,column:54}},"5":{start:{line:7,column:18},end:{line:7,column:45}},"6":{start:{line:8,column:15},end:{line:8,column:43}},"7":{start:{line:9,column:14},end:{line:9,column:41}},"8":{start:{line:10,column:17},end:{line:10,column:47}},"9":{start:{line:11,column:15},end:{line:11,column:52}},"10":{start:{line:14,column:4},end:{line:14,column:78}},"11":{start:{line:15,column:4},end:{line:15,column:79}},"12":{start:{line:16,column:4},end:{line:16,column:78}},"13":{start:{line:17,column:4},end:{line:17,column:80}},"14":{start:{line:18,column:4},end:{line:18,column:80}},"15":{start:{line:19,column:4},end:{line:21,column:6}},"16":{start:{line:22,column:4},end:{line:24,column:6}},"17":{start:{line:25,column:4},end:{line:27,column:6}},"18":{start:{line:28,column:4},end:{line:32,column:6}},"19":{start:{line:33,column:4},end:{line:37,column:6}},"20":{start:{line:38,column:4},end:{line:42,column:6}},"21":{start:{line:43,column:4},end:{line:47,column:6}},"22":{start:{line:48,column:4},end:{line:52,column:6}},"23":{start:{line:53,column:4},end:{line:53,column:18}},"24":{start:{line:55,column:4},end:{line:66,column:7}},"25":{start:{line:63,column:10},end:{line:63,column:26}},"26":{start:{line:68,column:4},end:{line:68,column:26}},"27":{start:{line:69,column:4},end:{line:69,column:21}},"28":{start:{line:73,column:4},end:{line:73,column:20}},"29":{start:{line:74,column:4},end:{line:74,column:40}},"30":{start:{line:75,column:4},end:{line:75,column:42}},"31":{start:{line:76,column:4},end:{line:76,column:42}},"32":{start:{line:77,column:4},end:{line:77,column:43}},"33":{start:{line:78,column:4},end:{line:78,column:38}},"34":{start:{line:79,column:4},end:{line:79,column:36}},"35":{start:{line:80,column:4},end:{line:80,column:33}},"36":{start:{line:81,column:4},end:{line:81,column:33}},"37":{start:{line:82,column:4},end:{line:82,column:33}},"38":{start:{line:83,column:4},end:{line:83,column:28}},"39":{start:{line:85,column:4},end:{line:88,column:19}},"40":{start:{line:86,column:6},end:{line:86,column:22}},"41":{start:{line:92,column:4},end:{line:92,column:12}},"42":{start:{line:93,column:4},end:{line:93,column:44}},"43":{start:{line:95,column:19},end:{line:95,column:23}},"44":{start:{line:96,column:4},end:{line:100,column:47}},"45":{start:{line:97,column:6},end:{line:99,column:8}},"46":{start:{line:102,column:16},end:{line:102,column:68}},"47":{start:{line:103,column:4},end:{line:114,column:5}},"48":{start:{line:104,column:6},end:{line:104,column:13}},"49":{start:{line:106,column:6},end:{line:106,column:54}},"50":{start:{line:107,column:6},end:{line:107,column:59}},"51":{start:{line:108,column:6},end:{line:108,column:55}},"52":{start:{line:109,column:6},end:{line:109,column:60}},"53":{start:{line:110,column:6},end:{line:110,column:56}},"54":{start:{line:111,column:6},end:{line:111,column:60}},"55":{start:{line:112,column:6},end:{line:112,column:56}},"56":{start:{line:113,column:6},end:{line:113,column:54}},"57":{start:{line:116,column:4},end:{line:118,column:6}},"58":{start:{line:120,column:22},end:{line:120,column:46}},"59":{start:{line:121,column:4},end:{line:121,column:65}},"60":{start:{line:122,column:4},end:{line:122,column:18}},"61":{start:{line:123,column:4},end:{line:126,column:6}},"62":{start:{line:127,column:4},end:{line:138,column:5}},"63":{start:{line:128,column:6},end:{line:128,column:13}},"64":{start:{line:130,column:6},end:{line:130,column:54}},"65":{start:{line:131,column:6},end:{line:131,column:59}},"66":{start:{line:132,column:6},end:{line:132,column:55}},"67":{start:{line:133,column:6},end:{line:133,column:60}},"68":{start:{line:134,column:6},end:{line:134,column:56}},"69":{start:{line:135,column:6},end:{line:135,column:60}},"70":{start:{line:136,column:6},end:{line:136,column:56}},"71":{start:{line:137,column:6},end:{line:137,column:54}},"72":{start:{line:139,column:4},end:{line:139,column:12}},"73":{start:{line:143,column:17},end:{line:143,column:65}},"74":{start:{line:144,column:17},end:{line:144,column:52}},"75":{start:{line:146,column:4},end:{line:148,column:5}},"76":{start:{line:147,column:6},end:{line:147,column:18}},"77":{start:{line:150,column:4},end:{line:150,column:40}},"78":{start:{line:154,column:15},end:{line:154,column:16}},"79":{start:{line:155,column:16},end:{line:155,column:17}},"80":{start:{line:156,column:20},end:{line:156,column:53}},"81":{start:{line:157,column:17},end:{line:157,column:43}},"82":{start:{line:158,column:17},end:{line:158,column:49}},"83":{start:{line:159,column:17},end:{line:159,column:45}},"84":{start:{line:160,column:4},end:{line:160,column:18}},"85":{start:{line:164,column:15},end:{line:164,column:56}},"86":{start:{line:165,column:4},end:{line:165,column:44}},"87":{start:{line:166,column:4},end:{line:166,column:29}},"88":{start:{line:170,column:4},end:{line:170,column:52}},"89":{start:{line:172,column:4},end:{line:174,column:6}},"90":{start:{line:176,column:4},end:{line:201,column:7}},"91":{start:{line:177,column:6},end:{line:179,column:8}},"92":{start:{line:181,column:21},end:{line:181,column:25}},"93":{start:{line:182,column:6},end:{line:187,column:49}},"94":{start:{line:183,column:20},end:{line:185,column:9}},"95":{start:{line:186,column:8},end:{line:186,column:51}},"96":{start:{line:189,column:24},end:{line:189,column:28}},"97":{start:{line:190,column:6},end:{line:194,column:74}},"98":{start:{line:191,column:8},end:{line:193,column:10}},"99":{start:{line:196,column:22},end:{line:196,column:68}},"100":{start:{line:198,column:6},end:{line:200,column:9}},"101":{start:{line:199,column:8},end:{line:199,column:35}},"102":{start:{line:205,column:4},end:{line:205,column:55}},"103":{start:{line:207,column:4},end:{line:211,column:7}},"104":{start:{line:208,column:6},end:{line:210,column:9}},"105":{start:{line:209,column:8},end:{line:209,column:47}},"106":{start:{line:215,column:0},end:{line:215,column:28}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:10},end:{line:70,column:3}},line:13},"1":{name:"(anonymous_1)",decl:{start:{line:62,column:18},end:{line:62,column:19}},loc:{start:{line:62,column:30},end:{line:64,column:9}},line:62},"2":{name:"(anonymous_2)",decl:{start:{line:72,column:2},end:{line:72,column:3}},loc:{start:{line:72,column:14},end:{line:89,column:3}},line:72},"3":{name:"(anonymous_3)",decl:{start:{line:91,column:2},end:{line:91,column:3}},loc:{start:{line:91,column:13},end:{line:140,column:3}},line:91},"4":{name:"(anonymous_4)",decl:{start:{line:142,column:2},end:{line:142,column:3}},loc:{start:{line:142,column:30},end:{line:151,column:3}},line:142},"5":{name:"(anonymous_5)",decl:{start:{line:153,column:2},end:{line:153,column:3}},loc:{start:{line:153,column:22},end:{line:161,column:3}},line:153},"6":{name:"(anonymous_6)",decl:{start:{line:163,column:2},end:{line:163,column:3}},loc:{start:{line:163,column:19},end:{line:167,column:3}},line:163},"7":{name:"(anonymous_7)",decl:{start:{line:169,column:2},end:{line:169,column:3}},loc:{start:{line:169,column:22},end:{line:202,column:3}},line:169},"8":{name:"(anonymous_8)",decl:{start:{line:176,column:25},end:{line:176,column:26}},loc:{start:{line:176,column:41},end:{line:201,column:5}},line:176},"9":{name:"(anonymous_9)",decl:{start:{line:198,column:24},end:{line:198,column:25}},loc:{start:{line:198,column:38},end:{line:200,column:7}},line:198},"10":{name:"(anonymous_10)",decl:{start:{line:204,column:2},end:{line:204,column:3}},loc:{start:{line:204,column:31},end:{line:212,column:3}},line:204},"11":{name:"(anonymous_11)",decl:{start:{line:207,column:28},end:{line:207,column:29}},loc:{start:{line:207,column:45},end:{line:211,column:5}},line:207},"12":{name:"(anonymous_12)",decl:{start:{line:208,column:28},end:{line:208,column:29}},loc:{start:{line:208,column:37},end:{line:210,column:7}},line:208}},branchMap:{"0":{loc:{start:{line:100,column:13},end:{line:100,column:45}},type:"binary-expr",locations:[{start:{line:100,column:13},end:{line:100,column:30}},{start:{line:100,column:34},end:{line:100,column:45}}],line:100},"1":{loc:{start:{line:103,column:4},end:{line:114,column:5}},type:"if",locations:[{start:{line:103,column:4},end:{line:114,column:5}},{start:{line:103,column:4},end:{line:114,column:5}}],line:103},"2":{loc:{start:{line:117,column:6},end:{line:117,column:72}},type:"cond-expr",locations:[{start:{line:117,column:14},end:{line:117,column:49}},{start:{line:117,column:52},end:{line:117,column:72}}],line:117},"3":{loc:{start:{line:125,column:9},end:{line:125,column:78}},type:"cond-expr",locations:[{start:{line:125,column:17},end:{line:125,column:52}},{start:{line:125,column:55},end:{line:125,column:78}}],line:125},"4":{loc:{start:{line:127,column:4},end:{line:138,column:5}},type:"if",locations:[{start:{line:127,column:4},end:{line:138,column:5}},{start:{line:127,column:4},end:{line:138,column:5}}],line:127},"5":{loc:{start:{line:146,column:4},end:{line:148,column:5}},type:"if",locations:[{start:{line:146,column:4},end:{line:148,column:5}},{start:{line:146,column:4},end:{line:148,column:5}}],line:146},"6":{loc:{start:{line:146,column:8},end:{line:146,column:45}},type:"binary-expr",locations:[{start:{line:146,column:8},end:{line:146,column:28}},{start:{line:146,column:32},end:{line:146,column:45}}],line:146},"7":{loc:{start:{line:187,column:15},end:{line:187,column:47}},type:"binary-expr",locations:[{start:{line:187,column:15},end:{line:187,column:32}},{start:{line:187,column:36},end:{line:187,column:47}}],line:187},"8":{loc:{start:{line:194,column:15},end:{line:194,column:72}},type:"binary-expr",locations:[{start:{line:194,column:15},end:{line:194,column:57}},{start:{line:194,column:61},end:{line:194,column:72}}],line:194},"9":{loc:{start:{line:196,column:22},end:{line:196,column:68}},type:"binary-expr",locations:[{start:{line:196,column:22},end:{line:196,column:24}},{start:{line:196,column:28},end:{line:196,column:68}}],line:196}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1d97e7ba610c21de2e9ae4f8b78a0f105af17f6a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2f0fpvmyck=function(){return actualCoverage;};}return actualCoverage;}cov_2f0fpvmyck();const gameController=(cov_2f0fpvmyck().s[0]++,require("./GameController/gameController.js"));const cliColor=(cov_2f0fpvmyck().s[1]++,require("cli-color"));const beep=(cov_2f0fpvmyck().s[2]++,require("beepbeep"));const position=(cov_2f0fpvmyck().s[3]++,require("./GameController/position.js"));const letters=(cov_2f0fpvmyck().s[4]++,require("./GameController/letters.js"));const showError=(cov_2f0fpvmyck().s[5]++,require("./utils/error.js"));const prompt=(cov_2f0fpvmyck().s[6]++,require("./utils/prompt.js"));const delim=(cov_2f0fpvmyck().s[7]++,require("./utils/delim.js"));const makeMenu=(cov_2f0fpvmyck().s[8]++,require("./utils/makeMenu.js"));const config=(cov_2f0fpvmyck().s[9]++,require("./GameController/config.js"));class Battleship{start(){cov_2f0fpvmyck().f[0]++;cov_2f0fpvmyck().s[10]++;console.log(cliColor.magenta("                                     |__"));cov_2f0fpvmyck().s[11]++;console.log(cliColor.magenta("                                     |\\/"));cov_2f0fpvmyck().s[12]++;console.log(cliColor.magenta("                                     ---"));cov_2f0fpvmyck().s[13]++;console.log(cliColor.magenta("                                     / | ["));cov_2f0fpvmyck().s[14]++;console.log(cliColor.magenta("                              !      | |||"));cov_2f0fpvmyck().s[15]++;console.log(cliColor.magenta("                            _/|     _/|-++'"));cov_2f0fpvmyck().s[16]++;console.log(cliColor.magenta("                        +  +--|    |--|--|_ |-"));cov_2f0fpvmyck().s[17]++;console.log(cliColor.magenta("                     { /|__|  |/\\__|  |--- |||__/"));cov_2f0fpvmyck().s[18]++;console.log(cliColor.magenta("                    +---------------___[}-_===_.'____                 /\\"));cov_2f0fpvmyck().s[19]++;console.log(cliColor.magenta("                ____`-' ||___-{]_| _[}-  |     |_[___\\==--            \\/   _"));cov_2f0fpvmyck().s[20]++;console.log(cliColor.magenta(" __..._____--==/___]_|__|_____________________________[___\\==--____,------' .7"));cov_2f0fpvmyck().s[21]++;console.log(cliColor.magenta("|                        Welcome to Battleship                         BB-61/"));cov_2f0fpvmyck().s[22]++;console.log(cliColor.magenta(" \\_________________________________________________________________________|"));cov_2f0fpvmyck().s[23]++;console.log();cov_2f0fpvmyck().s[24]++;this.showMenu=makeMenu({1:{title:"Make a turn",callback:this.makeTurn.bind(this)},2:{title:"Exit",callback:function(){cov_2f0fpvmyck().f[1]++;cov_2f0fpvmyck().s[25]++;process.exit(0);}}});cov_2f0fpvmyck().s[26]++;this.InitializeGame();cov_2f0fpvmyck().s[27]++;this.StartGame();}StartGame(){cov_2f0fpvmyck().f[2]++;cov_2f0fpvmyck().s[28]++;console.clear();cov_2f0fpvmyck().s[29]++;console.log("                  __");cov_2f0fpvmyck().s[30]++;console.log("                 /  \\");cov_2f0fpvmyck().s[31]++;console.log("           .-.  |    |");cov_2f0fpvmyck().s[32]++;console.log("   *    _.-'  \\  \\__/");cov_2f0fpvmyck().s[33]++;console.log("    \\.-'       \\");cov_2f0fpvmyck().s[34]++;console.log("   /          _/");cov_2f0fpvmyck().s[35]++;console.log("  |      _  /");cov_2f0fpvmyck().s[36]++;console.log("  |     /_\\'");cov_2f0fpvmyck().s[37]++;console.log("   \\    \\_/");cov_2f0fpvmyck().s[38]++;console.log('    """"');cov_2f0fpvmyck().s[39]++;do{cov_2f0fpvmyck().s[40]++;this.showMenu();// eslint-disable-next-line no-constant-condition
}while(true);}makeTurn(){cov_2f0fpvmyck().f[3]++;cov_2f0fpvmyck().s[41]++;delim();cov_2f0fpvmyck().s[42]++;console.log("< Player, it's your turn");var position=(cov_2f0fpvmyck().s[43]++,null);cov_2f0fpvmyck().s[44]++;do{cov_2f0fpvmyck().s[45]++;position=Battleship.ParsePosition(prompt("Enter coordinates for your shot:"));}while((cov_2f0fpvmyck().b[0][0]++,position===null)&&(cov_2f0fpvmyck().b[0][1]++,showError()));var isHit=(cov_2f0fpvmyck().s[46]++,gameController.CheckIsHit(this.enemyFleet,position));cov_2f0fpvmyck().s[47]++;if(isHit){cov_2f0fpvmyck().b[1][0]++;cov_2f0fpvmyck().s[48]++;beep();cov_2f0fpvmyck().s[49]++;console.log("                \\         .  ./");cov_2f0fpvmyck().s[50]++;console.log('              \\      .:";\'.:.."   /');cov_2f0fpvmyck().s[51]++;console.log("                  (M^^.^~~:.'\").");cov_2f0fpvmyck().s[52]++;console.log("            -   (/  .    . . \\ \\)  -");cov_2f0fpvmyck().s[53]++;console.log("               ((| :. ~ ^  :. .|))");cov_2f0fpvmyck().s[54]++;console.log("            -   (\\- |  \\ /  |  /)  -");cov_2f0fpvmyck().s[55]++;console.log("                 -\\  \\     /  /-");cov_2f0fpvmyck().s[56]++;console.log("                   \\  \\   /  /");}else{cov_2f0fpvmyck().b[1][1]++;}cov_2f0fpvmyck().s[57]++;console.log(isHit?(cov_2f0fpvmyck().b[2][0]++,cliColor.green("Yeah ! Nice hit !")):(cov_2f0fpvmyck().b[2][1]++,cliColor.red("Miss")));var computerPos=(cov_2f0fpvmyck().s[58]++,this.GetRandomPosition());cov_2f0fpvmyck().s[59]++;isHit=gameController.CheckIsHit(this.myFleet,computerPos);cov_2f0fpvmyck().s[60]++;console.log();cov_2f0fpvmyck().s[61]++;console.log(`> Computer shot in ${computerPos.column}${computerPos.row} and `+(isHit?(cov_2f0fpvmyck().b[3][0]++,cliColor.red(`has hit your ship !`)):(cov_2f0fpvmyck().b[3][1]++,cliColor.yellow(`miss`))));cov_2f0fpvmyck().s[62]++;if(isHit){cov_2f0fpvmyck().b[4][0]++;cov_2f0fpvmyck().s[63]++;beep();cov_2f0fpvmyck().s[64]++;console.log("                \\         .  ./");cov_2f0fpvmyck().s[65]++;console.log('              \\      .:";\'.:.."   /');cov_2f0fpvmyck().s[66]++;console.log("                  (M^^.^~~:.'\").");cov_2f0fpvmyck().s[67]++;console.log("            -   (/  .    . . \\ \\)  -");cov_2f0fpvmyck().s[68]++;console.log("               ((| :. ~ ^  :. .|))");cov_2f0fpvmyck().s[69]++;console.log("            -   (\\- |  \\ /  |  /)  -");cov_2f0fpvmyck().s[70]++;console.log("                 -\\  \\     /  /-");cov_2f0fpvmyck().s[71]++;console.log("                   \\  \\   /  /");}else{cov_2f0fpvmyck().b[4][1]++;}cov_2f0fpvmyck().s[72]++;delim();}static ParsePosition(input){cov_2f0fpvmyck().f[4]++;var letter=(cov_2f0fpvmyck().s[73]++,letters.get(input.toUpperCase().substring(0,1)));var number=(cov_2f0fpvmyck().s[74]++,parseInt(input.substring(1,2),10));cov_2f0fpvmyck().s[75]++;if((cov_2f0fpvmyck().b[6][0]++,letter===undefined)||(cov_2f0fpvmyck().b[6][1]++,isNaN(number))){cov_2f0fpvmyck().b[5][0]++;cov_2f0fpvmyck().s[76]++;return null;}else{cov_2f0fpvmyck().b[5][1]++;}cov_2f0fpvmyck().s[77]++;return new position(letter,number);}GetRandomPosition(){cov_2f0fpvmyck().f[5]++;var rows=(cov_2f0fpvmyck().s[78]++,8);var lines=(cov_2f0fpvmyck().s[79]++,8);var rndColumn=(cov_2f0fpvmyck().s[80]++,Math.floor(Math.random()*lines));var letter=(cov_2f0fpvmyck().s[81]++,letters.get(rndColumn+1));var number=(cov_2f0fpvmyck().s[82]++,Math.floor(Math.random()*rows));var result=(cov_2f0fpvmyck().s[83]++,new position(letter,number));cov_2f0fpvmyck().s[84]++;return result;}InitializeGame(){cov_2f0fpvmyck().f[6]++;var seed=(cov_2f0fpvmyck().s[85]++,Math.floor(Math.random()*config.length));cov_2f0fpvmyck().s[86]++;this.InitializeEnemyFleet(config[seed]);cov_2f0fpvmyck().s[87]++;this.InitializeMyFleet();}InitializeMyFleet(){cov_2f0fpvmyck().f[7]++;cov_2f0fpvmyck().s[88]++;this.myFleet=gameController.InitializeShips();cov_2f0fpvmyck().s[89]++;console.log("Please position your fleet (Game board size is from A to H and 1 to 8) :");cov_2f0fpvmyck().s[90]++;this.myFleet.forEach(function(ship){cov_2f0fpvmyck().f[8]++;cov_2f0fpvmyck().s[91]++;console.log(`\nPlease enter the positions for the ${ship.name} (size: ${ship.size})\n`);var position=(cov_2f0fpvmyck().s[92]++,null);cov_2f0fpvmyck().s[93]++;do{var input=(cov_2f0fpvmyck().s[94]++,prompt(`Enter start position of ship ${ship.name} with size: ${ship.size} (i.e A3):`));cov_2f0fpvmyck().s[95]++;position=Battleship.ParsePosition(input);}while((cov_2f0fpvmyck().b[7][0]++,position===null)&&(cov_2f0fpvmyck().b[7][1]++,showError()));var orientation=(cov_2f0fpvmyck().s[96]++,null);cov_2f0fpvmyck().s[97]++;do{cov_2f0fpvmyck().s[98]++;orientation=prompt(`Enter orientation for ship ${ship.name} with size: ${ship.size} ("right" or "bottom"):`);}while((cov_2f0fpvmyck().b[8][0]++,!["right","bottom"].includes(orientation))&&(cov_2f0fpvmyck().b[8][1]++,showError()));var positions=(cov_2f0fpvmyck().s[99]++,(cov_2f0fpvmyck().b[9][0]++,[])||(cov_2f0fpvmyck().b[9][1]++,unwrap(position,ship.size,orientation)));cov_2f0fpvmyck().s[100]++;positions.forEach(position=>{cov_2f0fpvmyck().f[9]++;cov_2f0fpvmyck().s[101]++;ship.addPosition(position);});});}InitializeEnemyFleet(config){cov_2f0fpvmyck().f[10]++;cov_2f0fpvmyck().s[102]++;this.enemyFleet=gameController.InitializeShips();cov_2f0fpvmyck().s[103]++;this.enemyFleet.forEach((ship,index)=>{cov_2f0fpvmyck().f[11]++;cov_2f0fpvmyck().s[104]++;config[index].forEach(pos=>{cov_2f0fpvmyck().f[12]++;cov_2f0fpvmyck().s[105]++;ship.addPosition(new position(...pos));});});}}cov_2f0fpvmyck().s[106]++;module.exports=Battleship;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhdHRsZXNoaXAuanMiXSwibmFtZXMiOlsiZ2FtZUNvbnRyb2xsZXIiLCJyZXF1aXJlIiwiY2xpQ29sb3IiLCJiZWVwIiwicG9zaXRpb24iLCJsZXR0ZXJzIiwic2hvd0Vycm9yIiwicHJvbXB0IiwiZGVsaW0iLCJtYWtlTWVudSIsImNvbmZpZyIsIkJhdHRsZXNoaXAiLCJzdGFydCIsImNvbnNvbGUiLCJsb2ciLCJtYWdlbnRhIiwic2hvd01lbnUiLCJ0aXRsZSIsImNhbGxiYWNrIiwibWFrZVR1cm4iLCJiaW5kIiwicHJvY2VzcyIsImV4aXQiLCJJbml0aWFsaXplR2FtZSIsIlN0YXJ0R2FtZSIsImNsZWFyIiwiUGFyc2VQb3NpdGlvbiIsImlzSGl0IiwiQ2hlY2tJc0hpdCIsImVuZW15RmxlZXQiLCJncmVlbiIsInJlZCIsImNvbXB1dGVyUG9zIiwiR2V0UmFuZG9tUG9zaXRpb24iLCJteUZsZWV0IiwiY29sdW1uIiwicm93IiwieWVsbG93IiwiaW5wdXQiLCJsZXR0ZXIiLCJnZXQiLCJ0b1VwcGVyQ2FzZSIsInN1YnN0cmluZyIsIm51bWJlciIsInBhcnNlSW50IiwidW5kZWZpbmVkIiwiaXNOYU4iLCJyb3dzIiwibGluZXMiLCJybmRDb2x1bW4iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJyZXN1bHQiLCJzZWVkIiwibGVuZ3RoIiwiSW5pdGlhbGl6ZUVuZW15RmxlZXQiLCJJbml0aWFsaXplTXlGbGVldCIsIkluaXRpYWxpemVTaGlwcyIsImZvckVhY2giLCJzaGlwIiwibmFtZSIsInNpemUiLCJvcmllbnRhdGlvbiIsImluY2x1ZGVzIiwicG9zaXRpb25zIiwidW53cmFwIiwiYWRkUG9zaXRpb24iLCJpbmRleCIsInBvcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJnNldBZVk7MkZBZlosS0FBTUEsQ0FBQUEsY0FBYywwQkFBR0MsT0FBTyxDQUFDLG9DQUFELENBQVYsQ0FBcEIsQ0FDQSxLQUFNQyxDQUFBQSxRQUFRLDBCQUFHRCxPQUFPLENBQUMsV0FBRCxDQUFWLENBQWQsQ0FDQSxLQUFNRSxDQUFBQSxJQUFJLDBCQUFHRixPQUFPLENBQUMsVUFBRCxDQUFWLENBQVYsQ0FDQSxLQUFNRyxDQUFBQSxRQUFRLDBCQUFHSCxPQUFPLENBQUMsOEJBQUQsQ0FBVixDQUFkLENBQ0EsS0FBTUksQ0FBQUEsT0FBTywwQkFBR0osT0FBTyxDQUFDLDZCQUFELENBQVYsQ0FBYixDQUVBLEtBQU1LLENBQUFBLFNBQVMsMEJBQUdMLE9BQU8sQ0FBQyxrQkFBRCxDQUFWLENBQWYsQ0FDQSxLQUFNTSxDQUFBQSxNQUFNLDBCQUFHTixPQUFPLENBQUMsbUJBQUQsQ0FBVixDQUFaLENBQ0EsS0FBTU8sQ0FBQUEsS0FBSywwQkFBR1AsT0FBTyxDQUFDLGtCQUFELENBQVYsQ0FBWCxDQUNBLEtBQU1RLENBQUFBLFFBQVEsMEJBQUdSLE9BQU8sQ0FBQyxxQkFBRCxDQUFWLENBQWQsQ0FDQSxLQUFNUyxDQUFBQSxNQUFNLDBCQUFHVCxPQUFPLENBQUMsNEJBQUQsQ0FBVixDQUFaLENBQ0EsS0FBTVUsQ0FBQUEsVUFBVyxDQUNmQyxLQUFLLEVBQUcsa0RBQ05DLE9BQU8sQ0FBQ0MsR0FBUixDQUFZWixRQUFRLENBQUNhLE9BQVQsQ0FBaUIsMENBQWpCLENBQVosRUFETSx5QkFFTkYsT0FBTyxDQUFDQyxHQUFSLENBQVlaLFFBQVEsQ0FBQ2EsT0FBVCxDQUFpQiwyQ0FBakIsQ0FBWixFQUZNLHlCQUdORixPQUFPLENBQUNDLEdBQVIsQ0FBWVosUUFBUSxDQUFDYSxPQUFULENBQWlCLDBDQUFqQixDQUFaLEVBSE0seUJBSU5GLE9BQU8sQ0FBQ0MsR0FBUixDQUFZWixRQUFRLENBQUNhLE9BQVQsQ0FBaUIsNENBQWpCLENBQVosRUFKTSx5QkFLTkYsT0FBTyxDQUFDQyxHQUFSLENBQVlaLFFBQVEsQ0FBQ2EsT0FBVCxDQUFpQiw0Q0FBakIsQ0FBWixFQUxNLHlCQU1ORixPQUFPLENBQUNDLEdBQVIsQ0FDRVosUUFBUSxDQUFDYSxPQUFULENBQWlCLDZDQUFqQixDQURGLEVBTk0seUJBU05GLE9BQU8sQ0FBQ0MsR0FBUixDQUNFWixRQUFRLENBQUNhLE9BQVQsQ0FBaUIsZ0RBQWpCLENBREYsRUFUTSx5QkFZTkYsT0FBTyxDQUFDQyxHQUFSLENBQ0VaLFFBQVEsQ0FBQ2EsT0FBVCxDQUFpQixvREFBakIsQ0FERixFQVpNLHlCQWVORixPQUFPLENBQUNDLEdBQVIsQ0FDRVosUUFBUSxDQUFDYSxPQUFULENBQ0UsMkVBREYsQ0FERixFQWZNLHlCQW9CTkYsT0FBTyxDQUFDQyxHQUFSLENBQ0VaLFFBQVEsQ0FBQ2EsT0FBVCxDQUNFLGdGQURGLENBREYsRUFwQk0seUJBeUJORixPQUFPLENBQUNDLEdBQVIsQ0FDRVosUUFBUSxDQUFDYSxPQUFULENBQ0UsaUZBREYsQ0FERixFQXpCTSx5QkE4Qk5GLE9BQU8sQ0FBQ0MsR0FBUixDQUNFWixRQUFRLENBQUNhLE9BQVQsQ0FDRSwrRUFERixDQURGLEVBOUJNLHlCQW1DTkYsT0FBTyxDQUFDQyxHQUFSLENBQ0VaLFFBQVEsQ0FBQ2EsT0FBVCxDQUNFLCtFQURGLENBREYsRUFuQ00seUJBd0NORixPQUFPLENBQUNDLEdBQVIsR0F4Q00seUJBMENOLEtBQUtFLFFBQUwsQ0FBZ0JQLFFBQVEsQ0FBQyxDQUN2QixFQUFHLENBQ0RRLEtBQUssQ0FBRSxhQUROLENBRURDLFFBQVEsQ0FBRSxLQUFLQyxRQUFMLENBQWNDLElBQWQsQ0FBbUIsSUFBbkIsQ0FGVCxDQURvQixDQUt2QixFQUFHLENBQ0RILEtBQUssQ0FBRSxNQUROLENBRURDLFFBQVEsQ0FBRSxVQUFZLGtEQUNwQkcsT0FBTyxDQUFDQyxJQUFSLENBQWEsQ0FBYixFQUNELENBSkEsQ0FMb0IsQ0FBRCxDQUF4QixDQTFDTSx5QkF1RE4sS0FBS0MsY0FBTCxHQXZETSx5QkF3RE4sS0FBS0MsU0FBTCxHQUNELENBRURBLFNBQVMsRUFBRyxrREFDVlgsT0FBTyxDQUFDWSxLQUFSLEdBRFUseUJBRVZaLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHNCQUFaLEVBRlUseUJBR1ZELE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHdCQUFaLEVBSFUseUJBSVZELE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHdCQUFaLEVBSlUseUJBS1ZELE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHlCQUFaLEVBTFUseUJBTVZELE9BQU8sQ0FBQ0MsR0FBUixDQUFZLG9CQUFaLEVBTlUseUJBT1ZELE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGtCQUFaLEVBUFUseUJBUVZELE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGVBQVosRUFSVSx5QkFTVkQsT0FBTyxDQUFDQyxHQUFSLENBQVksZUFBWixFQVRVLHlCQVVWRCxPQUFPLENBQUNDLEdBQVIsQ0FBWSxlQUFaLEVBVlUseUJBV1ZELE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFVBQVosRUFYVSx5QkFhVixFQUFHLDBCQUNELEtBQUtFLFFBQUwsR0FDQTtBQUNELENBSEQsTUFHUyxJQUhULEVBSUQsQ0FFREcsUUFBUSxFQUFHLGtEQUNUWCxLQUFLLEdBREkseUJBRVRLLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDBCQUFaLEVBRUEsR0FBSVYsQ0FBQUEsUUFBUSwyQkFBRyxJQUFILENBQVosQ0FKUyx5QkFLVCxFQUFHLDBCQUNEQSxRQUFRLENBQUdPLFVBQVUsQ0FBQ2UsYUFBWCxDQUNUbkIsTUFBTSxDQUFDLGtDQUFELENBREcsQ0FBWCxDQUdELENBSkQsTUFJUyw0QkFBQUgsUUFBUSxHQUFLLElBQWIsK0JBQXFCRSxTQUFTLEVBQTlCLENBSlQsRUFNQSxHQUFJcUIsQ0FBQUEsS0FBSywyQkFBRzNCLGNBQWMsQ0FBQzRCLFVBQWYsQ0FBMEIsS0FBS0MsVUFBL0IsQ0FBMkN6QixRQUEzQyxDQUFILENBQVQsQ0FYUyx5QkFZVCxHQUFJdUIsS0FBSixDQUFXLHFEQUNUeEIsSUFBSSxHQURLLHlCQUdUVSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxrQ0FBWixFQUhTLHlCQUlURCxPQUFPLENBQUNDLEdBQVIsQ0FBWSx1Q0FBWixFQUpTLHlCQUtURCxPQUFPLENBQUNDLEdBQVIsQ0FBWSxtQ0FBWixFQUxTLHlCQU1URCxPQUFPLENBQUNDLEdBQVIsQ0FBWSx3Q0FBWixFQU5TLHlCQU9URCxPQUFPLENBQUNDLEdBQVIsQ0FBWSxvQ0FBWixFQVBTLHlCQVFURCxPQUFPLENBQUNDLEdBQVIsQ0FBWSx3Q0FBWixFQVJTLHlCQVNURCxPQUFPLENBQUNDLEdBQVIsQ0FBWSxvQ0FBWixFQVRTLHlCQVVURCxPQUFPLENBQUNDLEdBQVIsQ0FBWSxrQ0FBWixFQUNELENBWEQsaUNBWlMseUJBeUJURCxPQUFPLENBQUNDLEdBQVIsQ0FDRWEsS0FBSyw2QkFBR3pCLFFBQVEsQ0FBQzRCLEtBQVQsQ0FBZSxtQkFBZixDQUFILDhCQUF5QzVCLFFBQVEsQ0FBQzZCLEdBQVQsQ0FBYSxNQUFiLENBQXpDLENBRFAsRUFJQSxHQUFJQyxDQUFBQSxXQUFXLDJCQUFHLEtBQUtDLGlCQUFMLEVBQUgsQ0FBZixDQTdCUyx5QkE4QlROLEtBQUssQ0FBRzNCLGNBQWMsQ0FBQzRCLFVBQWYsQ0FBMEIsS0FBS00sT0FBL0IsQ0FBd0NGLFdBQXhDLENBQVIsQ0E5QlMseUJBK0JUbkIsT0FBTyxDQUFDQyxHQUFSLEdBL0JTLHlCQWdDVEQsT0FBTyxDQUFDQyxHQUFSLENBQ0csc0JBQXFCa0IsV0FBVyxDQUFDRyxNQUFPLEdBQUVILFdBQVcsQ0FBQ0ksR0FBSSxPQUEzRCxFQUNHVCxLQUFLLDZCQUFHekIsUUFBUSxDQUFDNkIsR0FBVCxDQUFjLHFCQUFkLENBQUgsOEJBQXlDN0IsUUFBUSxDQUFDbUMsTUFBVCxDQUFpQixNQUFqQixDQUF6QyxDQURSLENBREYsRUFoQ1MseUJBb0NULEdBQUlWLEtBQUosQ0FBVyxxREFDVHhCLElBQUksR0FESyx5QkFHVFUsT0FBTyxDQUFDQyxHQUFSLENBQVksa0NBQVosRUFIUyx5QkFJVEQsT0FBTyxDQUFDQyxHQUFSLENBQVksdUNBQVosRUFKUyx5QkFLVEQsT0FBTyxDQUFDQyxHQUFSLENBQVksbUNBQVosRUFMUyx5QkFNVEQsT0FBTyxDQUFDQyxHQUFSLENBQVksd0NBQVosRUFOUyx5QkFPVEQsT0FBTyxDQUFDQyxHQUFSLENBQVksb0NBQVosRUFQUyx5QkFRVEQsT0FBTyxDQUFDQyxHQUFSLENBQVksd0NBQVosRUFSUyx5QkFTVEQsT0FBTyxDQUFDQyxHQUFSLENBQVksb0NBQVosRUFUUyx5QkFVVEQsT0FBTyxDQUFDQyxHQUFSLENBQVksa0NBQVosRUFDRCxDQVhELGlDQXBDUyx5QkFnRFROLEtBQUssR0FDTixDQUVtQixNQUFia0IsQ0FBQUEsYUFBYSxDQUFDWSxLQUFELENBQVEseUJBQzFCLEdBQUlDLENBQUFBLE1BQU0sMkJBQUdsQyxPQUFPLENBQUNtQyxHQUFSLENBQVlGLEtBQUssQ0FBQ0csV0FBTixHQUFvQkMsU0FBcEIsQ0FBOEIsQ0FBOUIsQ0FBaUMsQ0FBakMsQ0FBWixDQUFILENBQVYsQ0FDQSxHQUFJQyxDQUFBQSxNQUFNLDJCQUFHQyxRQUFRLENBQUNOLEtBQUssQ0FBQ0ksU0FBTixDQUFnQixDQUFoQixDQUFtQixDQUFuQixDQUFELENBQXdCLEVBQXhCLENBQVgsQ0FBVixDQUYwQix5QkFJMUIsR0FBSSw0QkFBQUgsTUFBTSxHQUFLTSxTQUFYLCtCQUF3QkMsS0FBSyxDQUFDSCxNQUFELENBQTdCLENBQUosQ0FBMkMscURBQ3pDLE1BQU8sS0FBUCxDQUNELENBRkQsaUNBSjBCLHlCQVExQixNQUFPLElBQUl2QyxDQUFBQSxRQUFKLENBQWFtQyxNQUFiLENBQXFCSSxNQUFyQixDQUFQLENBQ0QsQ0FFRFYsaUJBQWlCLEVBQUcseUJBQ2xCLEdBQUljLENBQUFBLElBQUksMkJBQUcsQ0FBSCxDQUFSLENBQ0EsR0FBSUMsQ0FBQUEsS0FBSywyQkFBRyxDQUFILENBQVQsQ0FDQSxHQUFJQyxDQUFBQSxTQUFTLDJCQUFHQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0QsSUFBSSxDQUFDRSxNQUFMLEdBQWdCSixLQUEzQixDQUFILENBQWIsQ0FDQSxHQUFJVCxDQUFBQSxNQUFNLDJCQUFHbEMsT0FBTyxDQUFDbUMsR0FBUixDQUFZUyxTQUFTLENBQUcsQ0FBeEIsQ0FBSCxDQUFWLENBQ0EsR0FBSU4sQ0FBQUEsTUFBTSwyQkFBR08sSUFBSSxDQUFDQyxLQUFMLENBQVdELElBQUksQ0FBQ0UsTUFBTCxHQUFnQkwsSUFBM0IsQ0FBSCxDQUFWLENBQ0EsR0FBSU0sQ0FBQUEsTUFBTSwyQkFBRyxHQUFJakQsQ0FBQUEsUUFBSixDQUFhbUMsTUFBYixDQUFxQkksTUFBckIsQ0FBSCxDQUFWLENBTmtCLHlCQU9sQixNQUFPVSxDQUFBQSxNQUFQLENBQ0QsQ0FFRDlCLGNBQWMsRUFBRyx5QkFDZixHQUFJK0IsQ0FBQUEsSUFBSSwyQkFBR0osSUFBSSxDQUFDQyxLQUFMLENBQVdELElBQUksQ0FBQ0UsTUFBTCxHQUFnQjFDLE1BQU0sQ0FBQzZDLE1BQWxDLENBQUgsQ0FBUixDQURlLHlCQUVmLEtBQUtDLG9CQUFMLENBQTBCOUMsTUFBTSxDQUFDNEMsSUFBRCxDQUFoQyxFQUZlLHlCQUdmLEtBQUtHLGlCQUFMLEdBQ0QsQ0FFREEsaUJBQWlCLEVBQUcsa0RBQ2xCLEtBQUt2QixPQUFMLENBQWVsQyxjQUFjLENBQUMwRCxlQUFmLEVBQWYsQ0FEa0IseUJBR2xCN0MsT0FBTyxDQUFDQyxHQUFSLENBQ0UsMEVBREYsRUFIa0IseUJBT2xCLEtBQUtvQixPQUFMLENBQWF5QixPQUFiLENBQXFCLFNBQVVDLElBQVYsQ0FBZ0Isa0RBQ25DL0MsT0FBTyxDQUFDQyxHQUFSLENBQ0csd0NBQXVDOEMsSUFBSSxDQUFDQyxJQUFLLFdBQVVELElBQUksQ0FBQ0UsSUFBSyxLQUR4RSxFQUlBLEdBQUkxRCxDQUFBQSxRQUFRLDJCQUFHLElBQUgsQ0FBWixDQUxtQyx5QkFNbkMsRUFBRyxDQUNELEdBQUlrQyxDQUFBQSxLQUFLLDJCQUFHL0IsTUFBTSxDQUNmLGdDQUErQnFELElBQUksQ0FBQ0MsSUFBSyxlQUFjRCxJQUFJLENBQUNFLElBQUssWUFEbEQsQ0FBVCxDQUFULENBREMseUJBSUQxRCxRQUFRLENBQUdPLFVBQVUsQ0FBQ2UsYUFBWCxDQUF5QlksS0FBekIsQ0FBWCxDQUNELENBTEQsTUFLUyw0QkFBQWxDLFFBQVEsR0FBSyxJQUFiLCtCQUFxQkUsU0FBUyxFQUE5QixDQUxULEVBT0EsR0FBSXlELENBQUFBLFdBQVcsMkJBQUcsSUFBSCxDQUFmLENBYm1DLHlCQWNuQyxFQUFHLDBCQUNEQSxXQUFXLENBQUd4RCxNQUFNLENBQ2pCLDhCQUE2QnFELElBQUksQ0FBQ0MsSUFBSyxlQUFjRCxJQUFJLENBQUNFLElBQUsseUJBRDlDLENBQXBCLENBR0QsQ0FKRCxNQUlTLDZCQUFDLENBQUMsT0FBRCxDQUFVLFFBQVYsRUFBb0JFLFFBQXBCLENBQTZCRCxXQUE3QixDQUFELCtCQUE4Q3pELFNBQVMsRUFBdkQsQ0FKVCxFQU1BLEdBQUkyRCxDQUFBQSxTQUFTLDJCQUFHLDZEQUFNQyxNQUFNLENBQUM5RCxRQUFELENBQVd3RCxJQUFJLENBQUNFLElBQWhCLENBQXNCQyxXQUF0QixDQUFaLENBQUgsQ0FBYixDQXBCbUMsMEJBc0JuQ0UsU0FBUyxDQUFDTixPQUFWLENBQW1CdkQsUUFBRCxFQUFjLG1EQUM5QndELElBQUksQ0FBQ08sV0FBTCxDQUFpQi9ELFFBQWpCLEVBQ0QsQ0FGRCxFQUdELENBekJELEVBMEJELENBRURvRCxvQkFBb0IsQ0FBQzlDLE1BQUQsQ0FBUyxvREFDM0IsS0FBS21CLFVBQUwsQ0FBa0I3QixjQUFjLENBQUMwRCxlQUFmLEVBQWxCLENBRDJCLDBCQUczQixLQUFLN0IsVUFBTCxDQUFnQjhCLE9BQWhCLENBQXdCLENBQUNDLElBQUQsQ0FBT1EsS0FBUCxHQUFpQixvREFDdkMxRCxNQUFNLENBQUMwRCxLQUFELENBQU4sQ0FBY1QsT0FBZCxDQUF1QlUsR0FBRCxFQUFTLG9EQUM3QlQsSUFBSSxDQUFDTyxXQUFMLENBQWlCLEdBQUkvRCxDQUFBQSxRQUFKLENBQWEsR0FBR2lFLEdBQWhCLENBQWpCLEVBQ0QsQ0FGRCxFQUdELENBSkQsRUFLRCxDQXhNYyxDLDBCQTJNakJDLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQjVELFVBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZ2FtZUNvbnRyb2xsZXIgPSByZXF1aXJlKFwiLi9HYW1lQ29udHJvbGxlci9nYW1lQ29udHJvbGxlci5qc1wiKTtcbmNvbnN0IGNsaUNvbG9yID0gcmVxdWlyZShcImNsaS1jb2xvclwiKTtcbmNvbnN0IGJlZXAgPSByZXF1aXJlKFwiYmVlcGJlZXBcIik7XG5jb25zdCBwb3NpdGlvbiA9IHJlcXVpcmUoXCIuL0dhbWVDb250cm9sbGVyL3Bvc2l0aW9uLmpzXCIpO1xuY29uc3QgbGV0dGVycyA9IHJlcXVpcmUoXCIuL0dhbWVDb250cm9sbGVyL2xldHRlcnMuanNcIik7XG5cbmNvbnN0IHNob3dFcnJvciA9IHJlcXVpcmUoXCIuL3V0aWxzL2Vycm9yLmpzXCIpO1xuY29uc3QgcHJvbXB0ID0gcmVxdWlyZShcIi4vdXRpbHMvcHJvbXB0LmpzXCIpO1xuY29uc3QgZGVsaW0gPSByZXF1aXJlKFwiLi91dGlscy9kZWxpbS5qc1wiKTtcbmNvbnN0IG1ha2VNZW51ID0gcmVxdWlyZShcIi4vdXRpbHMvbWFrZU1lbnUuanNcIik7XG5jb25zdCBjb25maWcgPSByZXF1aXJlKFwiLi9HYW1lQ29udHJvbGxlci9jb25maWcuanNcIik7XG5jbGFzcyBCYXR0bGVzaGlwIHtcbiAgc3RhcnQoKSB7XG4gICAgY29uc29sZS5sb2coY2xpQ29sb3IubWFnZW50YShcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8X19cIikpO1xuICAgIGNvbnNvbGUubG9nKGNsaUNvbG9yLm1hZ2VudGEoXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxcXFwvXCIpKTtcbiAgICBjb25zb2xlLmxvZyhjbGlDb2xvci5tYWdlbnRhKFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tLVwiKSk7XG4gICAgY29uc29sZS5sb2coY2xpQ29sb3IubWFnZW50YShcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIHwgW1wiKSk7XG4gICAgY29uc29sZS5sb2coY2xpQ29sb3IubWFnZW50YShcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICEgICAgICB8IHx8fFwiKSk7XG4gICAgY29uc29sZS5sb2coXG4gICAgICBjbGlDb2xvci5tYWdlbnRhKFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8vfCAgICAgXy98LSsrJ1wiKVxuICAgICk7XG4gICAgY29uc29sZS5sb2coXG4gICAgICBjbGlDb2xvci5tYWdlbnRhKFwiICAgICAgICAgICAgICAgICAgICAgICAgKyAgKy0tfCAgICB8LS18LS18XyB8LVwiKVxuICAgICk7XG4gICAgY29uc29sZS5sb2coXG4gICAgICBjbGlDb2xvci5tYWdlbnRhKFwiICAgICAgICAgICAgICAgICAgICAgeyAvfF9ffCAgfC9cXFxcX198ICB8LS0tIHx8fF9fL1wiKVxuICAgICk7XG4gICAgY29uc29sZS5sb2coXG4gICAgICBjbGlDb2xvci5tYWdlbnRhKFxuICAgICAgICBcIiAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLV9fX1t9LV89PT1fLidfX19fICAgICAgICAgICAgICAgICAvXFxcXFwiXG4gICAgICApXG4gICAgKTtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGNsaUNvbG9yLm1hZ2VudGEoXG4gICAgICAgIFwiICAgICAgICAgICAgICAgIF9fX19gLScgfHxfX18te11ffCBfW30tICB8ICAgICB8X1tfX19cXFxcPT0tLSAgICAgICAgICAgIFxcXFwvICAgX1wiXG4gICAgICApXG4gICAgKTtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGNsaUNvbG9yLm1hZ2VudGEoXG4gICAgICAgIFwiIF9fLi4uX19fX18tLT09L19fX11ffF9ffF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fW19fX1xcXFw9PS0tX19fXywtLS0tLS0nIC43XCJcbiAgICAgIClcbiAgICApO1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgY2xpQ29sb3IubWFnZW50YShcbiAgICAgICAgXCJ8ICAgICAgICAgICAgICAgICAgICAgICAgV2VsY29tZSB0byBCYXR0bGVzaGlwICAgICAgICAgICAgICAgICAgICAgICAgIEJCLTYxL1wiXG4gICAgICApXG4gICAgKTtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGNsaUNvbG9yLm1hZ2VudGEoXG4gICAgICAgIFwiIFxcXFxfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19ffFwiXG4gICAgICApXG4gICAgKTtcbiAgICBjb25zb2xlLmxvZygpO1xuXG4gICAgdGhpcy5zaG93TWVudSA9IG1ha2VNZW51KHtcbiAgICAgIDE6IHtcbiAgICAgICAgdGl0bGU6IFwiTWFrZSBhIHR1cm5cIixcbiAgICAgICAgY2FsbGJhY2s6IHRoaXMubWFrZVR1cm4uYmluZCh0aGlzKSxcbiAgICAgIH0sXG4gICAgICAyOiB7XG4gICAgICAgIHRpdGxlOiBcIkV4aXRcIixcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBwcm9jZXNzLmV4aXQoMCk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5Jbml0aWFsaXplR2FtZSgpO1xuICAgIHRoaXMuU3RhcnRHYW1lKCk7XG4gIH1cblxuICBTdGFydEdhbWUoKSB7XG4gICAgY29uc29sZS5jbGVhcigpO1xuICAgIGNvbnNvbGUubG9nKFwiICAgICAgICAgICAgICAgICAgX19cIik7XG4gICAgY29uc29sZS5sb2coXCIgICAgICAgICAgICAgICAgIC8gIFxcXFxcIik7XG4gICAgY29uc29sZS5sb2coXCIgICAgICAgICAgIC4tLiAgfCAgICB8XCIpO1xuICAgIGNvbnNvbGUubG9nKFwiICAgKiAgICBfLi0nICBcXFxcICBcXFxcX18vXCIpO1xuICAgIGNvbnNvbGUubG9nKFwiICAgIFxcXFwuLScgICAgICAgXFxcXFwiKTtcbiAgICBjb25zb2xlLmxvZyhcIiAgIC8gICAgICAgICAgXy9cIik7XG4gICAgY29uc29sZS5sb2coXCIgIHwgICAgICBfICAvXCIpO1xuICAgIGNvbnNvbGUubG9nKFwiICB8ICAgICAvX1xcXFwnXCIpO1xuICAgIGNvbnNvbGUubG9nKFwiICAgXFxcXCAgICBcXFxcXy9cIik7XG4gICAgY29uc29sZS5sb2coJyAgICBcIlwiXCJcIicpO1xuXG4gICAgZG8ge1xuICAgICAgdGhpcy5zaG93TWVudSgpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnN0YW50LWNvbmRpdGlvblxuICAgIH0gd2hpbGUgKHRydWUpO1xuICB9XG5cbiAgbWFrZVR1cm4oKSB7XG4gICAgZGVsaW0oKTtcbiAgICBjb25zb2xlLmxvZyhcIjwgUGxheWVyLCBpdCdzIHlvdXIgdHVyblwiKTtcblxuICAgIHZhciBwb3NpdGlvbiA9IG51bGw7XG4gICAgZG8ge1xuICAgICAgcG9zaXRpb24gPSBCYXR0bGVzaGlwLlBhcnNlUG9zaXRpb24oXG4gICAgICAgIHByb21wdChcIkVudGVyIGNvb3JkaW5hdGVzIGZvciB5b3VyIHNob3Q6XCIpXG4gICAgICApO1xuICAgIH0gd2hpbGUgKHBvc2l0aW9uID09PSBudWxsICYmIHNob3dFcnJvcigpKTtcblxuICAgIHZhciBpc0hpdCA9IGdhbWVDb250cm9sbGVyLkNoZWNrSXNIaXQodGhpcy5lbmVteUZsZWV0LCBwb3NpdGlvbik7XG4gICAgaWYgKGlzSGl0KSB7XG4gICAgICBiZWVwKCk7XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiICAgICAgICAgICAgICAgIFxcXFwgICAgICAgICAuICAuL1wiKTtcbiAgICAgIGNvbnNvbGUubG9nKCcgICAgICAgICAgICAgIFxcXFwgICAgICAuOlwiO1xcJy46Li5cIiAgIC8nKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiICAgICAgICAgICAgICAgICAgKE1eXi5efn46LidcXFwiKS5cIik7XG4gICAgICBjb25zb2xlLmxvZyhcIiAgICAgICAgICAgIC0gICAoLyAgLiAgICAuIC4gXFxcXCBcXFxcKSAgLVwiKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiICAgICAgICAgICAgICAgKCh8IDouIH4gXiAgOi4gLnwpKVwiKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiICAgICAgICAgICAgLSAgIChcXFxcLSB8ICBcXFxcIC8gIHwgIC8pICAtXCIpO1xuICAgICAgY29uc29sZS5sb2coXCIgICAgICAgICAgICAgICAgIC1cXFxcICBcXFxcICAgICAvICAvLVwiKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiICAgICAgICAgICAgICAgICAgIFxcXFwgIFxcXFwgICAvICAvXCIpO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKFxuICAgICAgaXNIaXQgPyBjbGlDb2xvci5ncmVlbihcIlllYWggISBOaWNlIGhpdCAhXCIpIDogY2xpQ29sb3IucmVkKFwiTWlzc1wiKVxuICAgICk7XG5cbiAgICB2YXIgY29tcHV0ZXJQb3MgPSB0aGlzLkdldFJhbmRvbVBvc2l0aW9uKCk7XG4gICAgaXNIaXQgPSBnYW1lQ29udHJvbGxlci5DaGVja0lzSGl0KHRoaXMubXlGbGVldCwgY29tcHV0ZXJQb3MpO1xuICAgIGNvbnNvbGUubG9nKCk7XG4gICAgY29uc29sZS5sb2coXG4gICAgICBgPiBDb21wdXRlciBzaG90IGluICR7Y29tcHV0ZXJQb3MuY29sdW1ufSR7Y29tcHV0ZXJQb3Mucm93fSBhbmQgYCArXG4gICAgICAgIChpc0hpdCA/IGNsaUNvbG9yLnJlZChgaGFzIGhpdCB5b3VyIHNoaXAgIWApIDogY2xpQ29sb3IueWVsbG93KGBtaXNzYCkpXG4gICAgKTtcbiAgICBpZiAoaXNIaXQpIHtcbiAgICAgIGJlZXAoKTtcblxuICAgICAgY29uc29sZS5sb2coXCIgICAgICAgICAgICAgICAgXFxcXCAgICAgICAgIC4gIC4vXCIpO1xuICAgICAgY29uc29sZS5sb2coJyAgICAgICAgICAgICAgXFxcXCAgICAgIC46XCI7XFwnLjouLlwiICAgLycpO1xuICAgICAgY29uc29sZS5sb2coXCIgICAgICAgICAgICAgICAgICAoTV5eLl5+fjouJ1xcXCIpLlwiKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiICAgICAgICAgICAgLSAgICgvICAuICAgIC4gLiBcXFxcIFxcXFwpICAtXCIpO1xuICAgICAgY29uc29sZS5sb2coXCIgICAgICAgICAgICAgICAoKHwgOi4gfiBeICA6LiAufCkpXCIpO1xuICAgICAgY29uc29sZS5sb2coXCIgICAgICAgICAgICAtICAgKFxcXFwtIHwgIFxcXFwgLyAgfCAgLykgIC1cIik7XG4gICAgICBjb25zb2xlLmxvZyhcIiAgICAgICAgICAgICAgICAgLVxcXFwgIFxcXFwgICAgIC8gIC8tXCIpO1xuICAgICAgY29uc29sZS5sb2coXCIgICAgICAgICAgICAgICAgICAgXFxcXCAgXFxcXCAgIC8gIC9cIik7XG4gICAgfVxuICAgIGRlbGltKCk7XG4gIH1cblxuICBzdGF0aWMgUGFyc2VQb3NpdGlvbihpbnB1dCkge1xuICAgIHZhciBsZXR0ZXIgPSBsZXR0ZXJzLmdldChpbnB1dC50b1VwcGVyQ2FzZSgpLnN1YnN0cmluZygwLCAxKSk7XG4gICAgdmFyIG51bWJlciA9IHBhcnNlSW50KGlucHV0LnN1YnN0cmluZygxLCAyKSwgMTApO1xuXG4gICAgaWYgKGxldHRlciA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKG51bWJlcikpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgcG9zaXRpb24obGV0dGVyLCBudW1iZXIpO1xuICB9XG5cbiAgR2V0UmFuZG9tUG9zaXRpb24oKSB7XG4gICAgdmFyIHJvd3MgPSA4O1xuICAgIHZhciBsaW5lcyA9IDg7XG4gICAgdmFyIHJuZENvbHVtbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGxpbmVzKTtcbiAgICB2YXIgbGV0dGVyID0gbGV0dGVycy5nZXQocm5kQ29sdW1uICsgMSk7XG4gICAgdmFyIG51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHJvd3MpO1xuICAgIHZhciByZXN1bHQgPSBuZXcgcG9zaXRpb24obGV0dGVyLCBudW1iZXIpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBJbml0aWFsaXplR2FtZSgpIHtcbiAgICB2YXIgc2VlZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNvbmZpZy5sZW5ndGgpO1xuICAgIHRoaXMuSW5pdGlhbGl6ZUVuZW15RmxlZXQoY29uZmlnW3NlZWRdKTtcbiAgICB0aGlzLkluaXRpYWxpemVNeUZsZWV0KCk7XG4gIH1cblxuICBJbml0aWFsaXplTXlGbGVldCgpIHtcbiAgICB0aGlzLm15RmxlZXQgPSBnYW1lQ29udHJvbGxlci5Jbml0aWFsaXplU2hpcHMoKTtcblxuICAgIGNvbnNvbGUubG9nKFxuICAgICAgXCJQbGVhc2UgcG9zaXRpb24geW91ciBmbGVldCAoR2FtZSBib2FyZCBzaXplIGlzIGZyb20gQSB0byBIIGFuZCAxIHRvIDgpIDpcIlxuICAgICk7XG5cbiAgICB0aGlzLm15RmxlZXQuZm9yRWFjaChmdW5jdGlvbiAoc2hpcCkge1xuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIGBcXG5QbGVhc2UgZW50ZXIgdGhlIHBvc2l0aW9ucyBmb3IgdGhlICR7c2hpcC5uYW1lfSAoc2l6ZTogJHtzaGlwLnNpemV9KVxcbmBcbiAgICAgICk7XG5cbiAgICAgIHZhciBwb3NpdGlvbiA9IG51bGw7XG4gICAgICBkbyB7XG4gICAgICAgIHZhciBpbnB1dCA9IHByb21wdChcbiAgICAgICAgICBgRW50ZXIgc3RhcnQgcG9zaXRpb24gb2Ygc2hpcCAke3NoaXAubmFtZX0gd2l0aCBzaXplOiAke3NoaXAuc2l6ZX0gKGkuZSBBMyk6YFxuICAgICAgICApO1xuICAgICAgICBwb3NpdGlvbiA9IEJhdHRsZXNoaXAuUGFyc2VQb3NpdGlvbihpbnB1dCk7XG4gICAgICB9IHdoaWxlIChwb3NpdGlvbiA9PT0gbnVsbCAmJiBzaG93RXJyb3IoKSk7XG5cbiAgICAgIHZhciBvcmllbnRhdGlvbiA9IG51bGw7XG4gICAgICBkbyB7XG4gICAgICAgIG9yaWVudGF0aW9uID0gcHJvbXB0KFxuICAgICAgICAgIGBFbnRlciBvcmllbnRhdGlvbiBmb3Igc2hpcCAke3NoaXAubmFtZX0gd2l0aCBzaXplOiAke3NoaXAuc2l6ZX0gKFwicmlnaHRcIiBvciBcImJvdHRvbVwiKTpgXG4gICAgICAgICk7XG4gICAgICB9IHdoaWxlICghW1wicmlnaHRcIiwgXCJib3R0b21cIl0uaW5jbHVkZXMob3JpZW50YXRpb24pICYmIHNob3dFcnJvcigpKTtcblxuICAgICAgdmFyIHBvc2l0aW9ucyA9IFtdIHx8IHVud3JhcChwb3NpdGlvbiwgc2hpcC5zaXplLCBvcmllbnRhdGlvbik7XG5cbiAgICAgIHBvc2l0aW9ucy5mb3JFYWNoKChwb3NpdGlvbikgPT4ge1xuICAgICAgICBzaGlwLmFkZFBvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgSW5pdGlhbGl6ZUVuZW15RmxlZXQoY29uZmlnKSB7XG4gICAgdGhpcy5lbmVteUZsZWV0ID0gZ2FtZUNvbnRyb2xsZXIuSW5pdGlhbGl6ZVNoaXBzKCk7XG5cbiAgICB0aGlzLmVuZW15RmxlZXQuZm9yRWFjaCgoc2hpcCwgaW5kZXgpID0+IHtcbiAgICAgIGNvbmZpZ1tpbmRleF0uZm9yRWFjaCgocG9zKSA9PiB7XG4gICAgICAgIHNoaXAuYWRkUG9zaXRpb24obmV3IHBvc2l0aW9uKC4uLnBvcykpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBCYXR0bGVzaGlwO1xuIl19