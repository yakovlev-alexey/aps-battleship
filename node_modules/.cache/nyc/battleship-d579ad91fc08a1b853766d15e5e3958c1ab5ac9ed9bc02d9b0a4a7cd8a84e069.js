function cov_2f0fpvmyck(){var path="/Users/yakovlev-alex/Repos/battleship-nodejs-APS-SD-Dec-2021/battleship.js";var hash="d43e4669f2aa9a47c9f2aa5992c824f725f4542b";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/yakovlev-alex/Repos/battleship-nodejs-APS-SD-Dec-2021/battleship.js",statementMap:{"0":{start:{line:1,column:23},end:{line:1,column:68}},"1":{start:{line:2,column:17},end:{line:2,column:37}},"2":{start:{line:3,column:13},end:{line:3,column:32}},"3":{start:{line:4,column:17},end:{line:4,column:56}},"4":{start:{line:5,column:16},end:{line:5,column:54}},"5":{start:{line:7,column:15},end:{line:7,column:43}},"6":{start:{line:8,column:14},end:{line:8,column:41}},"7":{start:{line:9,column:17},end:{line:9,column:47}},"8":{start:{line:10,column:15},end:{line:10,column:52}},"9":{start:{line:13,column:4},end:{line:13,column:78}},"10":{start:{line:14,column:4},end:{line:14,column:79}},"11":{start:{line:15,column:4},end:{line:15,column:78}},"12":{start:{line:16,column:4},end:{line:16,column:80}},"13":{start:{line:17,column:4},end:{line:17,column:80}},"14":{start:{line:18,column:4},end:{line:20,column:6}},"15":{start:{line:21,column:4},end:{line:23,column:6}},"16":{start:{line:24,column:4},end:{line:26,column:6}},"17":{start:{line:27,column:4},end:{line:31,column:6}},"18":{start:{line:32,column:4},end:{line:36,column:6}},"19":{start:{line:37,column:4},end:{line:41,column:6}},"20":{start:{line:42,column:4},end:{line:46,column:6}},"21":{start:{line:47,column:4},end:{line:51,column:6}},"22":{start:{line:52,column:4},end:{line:52,column:18}},"23":{start:{line:54,column:4},end:{line:65,column:7}},"24":{start:{line:62,column:10},end:{line:62,column:26}},"25":{start:{line:67,column:4},end:{line:67,column:26}},"26":{start:{line:68,column:4},end:{line:68,column:21}},"27":{start:{line:72,column:4},end:{line:72,column:20}},"28":{start:{line:73,column:4},end:{line:73,column:40}},"29":{start:{line:74,column:4},end:{line:74,column:42}},"30":{start:{line:75,column:4},end:{line:75,column:42}},"31":{start:{line:76,column:4},end:{line:76,column:43}},"32":{start:{line:77,column:4},end:{line:77,column:38}},"33":{start:{line:78,column:4},end:{line:78,column:36}},"34":{start:{line:79,column:4},end:{line:79,column:33}},"35":{start:{line:80,column:4},end:{line:80,column:33}},"36":{start:{line:81,column:4},end:{line:81,column:33}},"37":{start:{line:82,column:4},end:{line:82,column:28}},"38":{start:{line:84,column:4},end:{line:87,column:19}},"39":{start:{line:85,column:6},end:{line:85,column:22}},"40":{start:{line:91,column:4},end:{line:91,column:12}},"41":{start:{line:92,column:4},end:{line:92,column:44}},"42":{start:{line:93,column:19},end:{line:95,column:5}},"43":{start:{line:96,column:16},end:{line:96,column:68}},"44":{start:{line:97,column:4},end:{line:108,column:5}},"45":{start:{line:98,column:6},end:{line:98,column:13}},"46":{start:{line:100,column:6},end:{line:100,column:54}},"47":{start:{line:101,column:6},end:{line:101,column:59}},"48":{start:{line:102,column:6},end:{line:102,column:55}},"49":{start:{line:103,column:6},end:{line:103,column:60}},"50":{start:{line:104,column:6},end:{line:104,column:56}},"51":{start:{line:105,column:6},end:{line:105,column:60}},"52":{start:{line:106,column:6},end:{line:106,column:56}},"53":{start:{line:107,column:6},end:{line:107,column:54}},"54":{start:{line:110,column:4},end:{line:112,column:6}},"55":{start:{line:114,column:22},end:{line:114,column:46}},"56":{start:{line:115,column:4},end:{line:115,column:65}},"57":{start:{line:116,column:4},end:{line:116,column:18}},"58":{start:{line:117,column:4},end:{line:120,column:6}},"59":{start:{line:121,column:4},end:{line:132,column:5}},"60":{start:{line:122,column:6},end:{line:122,column:13}},"61":{start:{line:124,column:6},end:{line:124,column:54}},"62":{start:{line:125,column:6},end:{line:125,column:59}},"63":{start:{line:126,column:6},end:{line:126,column:55}},"64":{start:{line:127,column:6},end:{line:127,column:60}},"65":{start:{line:128,column:6},end:{line:128,column:56}},"66":{start:{line:129,column:6},end:{line:129,column:60}},"67":{start:{line:130,column:6},end:{line:130,column:56}},"68":{start:{line:131,column:6},end:{line:131,column:54}},"69":{start:{line:133,column:4},end:{line:133,column:12}},"70":{start:{line:137,column:17},end:{line:137,column:65}},"71":{start:{line:138,column:17},end:{line:138,column:52}},"72":{start:{line:139,column:4},end:{line:139,column:40}},"73":{start:{line:143,column:15},end:{line:143,column:16}},"74":{start:{line:144,column:16},end:{line:144,column:17}},"75":{start:{line:145,column:20},end:{line:145,column:53}},"76":{start:{line:146,column:17},end:{line:146,column:43}},"77":{start:{line:147,column:17},end:{line:147,column:49}},"78":{start:{line:148,column:17},end:{line:148,column:45}},"79":{start:{line:149,column:4},end:{line:149,column:18}},"80":{start:{line:153,column:15},end:{line:153,column:56}},"81":{start:{line:154,column:4},end:{line:154,column:44}},"82":{start:{line:155,column:4},end:{line:155,column:54}},"83":{start:{line:155,column:33},end:{line:155,column:47}},"84":{start:{line:156,column:4},end:{line:156,column:29}},"85":{start:{line:160,column:4},end:{line:160,column:52}},"86":{start:{line:162,column:4},end:{line:164,column:6}},"87":{start:{line:166,column:4},end:{line:177,column:7}},"88":{start:{line:167,column:6},end:{line:167,column:20}},"89":{start:{line:168,column:6},end:{line:170,column:8}},"90":{start:{line:171,column:6},end:{line:176,column:7}},"91":{start:{line:171,column:19},end:{line:171,column:20}},"92":{start:{line:172,column:25},end:{line:174,column:9}},"93":{start:{line:175,column:8},end:{line:175,column:61}},"94":{start:{line:181,column:4},end:{line:181,column:55}},"95":{start:{line:184,column:4},end:{line:188,column:7}},"96":{start:{line:185,column:6},end:{line:187,column:9}},"97":{start:{line:186,column:8},end:{line:186,column:47}},"98":{start:{line:192,column:0},end:{line:192,column:28}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:12,column:2},end:{line:12,column:3}},loc:{start:{line:12,column:10},end:{line:69,column:3}},line:12},"1":{name:"(anonymous_1)",decl:{start:{line:61,column:18},end:{line:61,column:19}},loc:{start:{line:61,column:30},end:{line:63,column:9}},line:61},"2":{name:"(anonymous_2)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:14},end:{line:88,column:3}},line:71},"3":{name:"(anonymous_3)",decl:{start:{line:90,column:2},end:{line:90,column:3}},loc:{start:{line:90,column:13},end:{line:134,column:3}},line:90},"4":{name:"(anonymous_4)",decl:{start:{line:136,column:2},end:{line:136,column:3}},loc:{start:{line:136,column:30},end:{line:140,column:3}},line:136},"5":{name:"(anonymous_5)",decl:{start:{line:142,column:2},end:{line:142,column:3}},loc:{start:{line:142,column:22},end:{line:150,column:3}},line:142},"6":{name:"(anonymous_6)",decl:{start:{line:152,column:2},end:{line:152,column:3}},loc:{start:{line:152,column:19},end:{line:157,column:3}},line:152},"7":{name:"(anonymous_7)",decl:{start:{line:155,column:28},end:{line:155,column:29}},loc:{start:{line:155,column:33},end:{line:155,column:47}},line:155},"8":{name:"(anonymous_8)",decl:{start:{line:159,column:2},end:{line:159,column:3}},loc:{start:{line:159,column:22},end:{line:178,column:3}},line:159},"9":{name:"(anonymous_9)",decl:{start:{line:166,column:25},end:{line:166,column:26}},loc:{start:{line:166,column:41},end:{line:177,column:5}},line:166},"10":{name:"(anonymous_10)",decl:{start:{line:180,column:2},end:{line:180,column:3}},loc:{start:{line:180,column:31},end:{line:189,column:3}},line:180},"11":{name:"(anonymous_11)",decl:{start:{line:184,column:28},end:{line:184,column:29}},loc:{start:{line:184,column:45},end:{line:188,column:5}},line:184},"12":{name:"(anonymous_12)",decl:{start:{line:185,column:28},end:{line:185,column:29}},loc:{start:{line:185,column:37},end:{line:187,column:7}},line:185}},branchMap:{"0":{loc:{start:{line:97,column:4},end:{line:108,column:5}},type:"if",locations:[{start:{line:97,column:4},end:{line:108,column:5}},{start:{line:97,column:4},end:{line:108,column:5}}],line:97},"1":{loc:{start:{line:111,column:6},end:{line:111,column:72}},type:"cond-expr",locations:[{start:{line:111,column:14},end:{line:111,column:49}},{start:{line:111,column:52},end:{line:111,column:72}}],line:111},"2":{loc:{start:{line:119,column:9},end:{line:119,column:78}},type:"cond-expr",locations:[{start:{line:119,column:17},end:{line:119,column:52}},{start:{line:119,column:55},end:{line:119,column:78}}],line:119},"3":{loc:{start:{line:121,column:4},end:{line:132,column:5}},type:"if",locations:[{start:{line:121,column:4},end:{line:132,column:5}},{start:{line:121,column:4},end:{line:132,column:5}}],line:121}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d43e4669f2aa9a47c9f2aa5992c824f725f4542b"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2f0fpvmyck=function(){return actualCoverage;};}return actualCoverage;}cov_2f0fpvmyck();const gameController=(cov_2f0fpvmyck().s[0]++,require("./GameController/gameController.js"));const cliColor=(cov_2f0fpvmyck().s[1]++,require("cli-color"));const beep=(cov_2f0fpvmyck().s[2]++,require("beepbeep"));const position=(cov_2f0fpvmyck().s[3]++,require("./GameController/position.js"));const letters=(cov_2f0fpvmyck().s[4]++,require("./GameController/letters.js"));const prompt=(cov_2f0fpvmyck().s[5]++,require("./utils/prompt.js"));const delim=(cov_2f0fpvmyck().s[6]++,require("./utils/delim.js"));const makeMenu=(cov_2f0fpvmyck().s[7]++,require("./utils/makeMenu.js"));const config=(cov_2f0fpvmyck().s[8]++,require("./GameController/config.js"));class Battleship{start(){cov_2f0fpvmyck().f[0]++;cov_2f0fpvmyck().s[9]++;console.log(cliColor.magenta("                                     |__"));cov_2f0fpvmyck().s[10]++;console.log(cliColor.magenta("                                     |\\/"));cov_2f0fpvmyck().s[11]++;console.log(cliColor.magenta("                                     ---"));cov_2f0fpvmyck().s[12]++;console.log(cliColor.magenta("                                     / | ["));cov_2f0fpvmyck().s[13]++;console.log(cliColor.magenta("                              !      | |||"));cov_2f0fpvmyck().s[14]++;console.log(cliColor.magenta("                            _/|     _/|-++'"));cov_2f0fpvmyck().s[15]++;console.log(cliColor.magenta("                        +  +--|    |--|--|_ |-"));cov_2f0fpvmyck().s[16]++;console.log(cliColor.magenta("                     { /|__|  |/\\__|  |--- |||__/"));cov_2f0fpvmyck().s[17]++;console.log(cliColor.magenta("                    +---------------___[}-_===_.'____                 /\\"));cov_2f0fpvmyck().s[18]++;console.log(cliColor.magenta("                ____`-' ||___-{]_| _[}-  |     |_[___\\==--            \\/   _"));cov_2f0fpvmyck().s[19]++;console.log(cliColor.magenta(" __..._____--==/___]_|__|_____________________________[___\\==--____,------' .7"));cov_2f0fpvmyck().s[20]++;console.log(cliColor.magenta("|                        Welcome to Battleship                         BB-61/"));cov_2f0fpvmyck().s[21]++;console.log(cliColor.magenta(" \\_________________________________________________________________________|"));cov_2f0fpvmyck().s[22]++;console.log();cov_2f0fpvmyck().s[23]++;this.showMenu=makeMenu({1:{title:"Make a turn",callback:this.makeTurn.bind(this)},2:{title:"Exit",callback:function(){cov_2f0fpvmyck().f[1]++;cov_2f0fpvmyck().s[24]++;process.exit(0);}}});cov_2f0fpvmyck().s[25]++;this.InitializeGame();cov_2f0fpvmyck().s[26]++;this.StartGame();}StartGame(){cov_2f0fpvmyck().f[2]++;cov_2f0fpvmyck().s[27]++;console.clear();cov_2f0fpvmyck().s[28]++;console.log("                  __");cov_2f0fpvmyck().s[29]++;console.log("                 /  \\");cov_2f0fpvmyck().s[30]++;console.log("           .-.  |    |");cov_2f0fpvmyck().s[31]++;console.log("   *    _.-'  \\  \\__/");cov_2f0fpvmyck().s[32]++;console.log("    \\.-'       \\");cov_2f0fpvmyck().s[33]++;console.log("   /          _/");cov_2f0fpvmyck().s[34]++;console.log("  |      _  /");cov_2f0fpvmyck().s[35]++;console.log("  |     /_\\'");cov_2f0fpvmyck().s[36]++;console.log("   \\    \\_/");cov_2f0fpvmyck().s[37]++;console.log('    """"');cov_2f0fpvmyck().s[38]++;do{cov_2f0fpvmyck().s[39]++;this.showMenu();// eslint-disable-next-line no-constant-condition
}while(true);}makeTurn(){cov_2f0fpvmyck().f[3]++;cov_2f0fpvmyck().s[40]++;delim();cov_2f0fpvmyck().s[41]++;console.log("< Player, it's your turn");var position=(cov_2f0fpvmyck().s[42]++,Battleship.ParsePosition(prompt("Enter coordinates for your shot :")));var isHit=(cov_2f0fpvmyck().s[43]++,gameController.CheckIsHit(this.enemyFleet,position));cov_2f0fpvmyck().s[44]++;if(isHit){cov_2f0fpvmyck().b[0][0]++;cov_2f0fpvmyck().s[45]++;beep();cov_2f0fpvmyck().s[46]++;console.log("                \\         .  ./");cov_2f0fpvmyck().s[47]++;console.log('              \\      .:";\'.:.."   /');cov_2f0fpvmyck().s[48]++;console.log("                  (M^^.^~~:.'\").");cov_2f0fpvmyck().s[49]++;console.log("            -   (/  .    . . \\ \\)  -");cov_2f0fpvmyck().s[50]++;console.log("               ((| :. ~ ^  :. .|))");cov_2f0fpvmyck().s[51]++;console.log("            -   (\\- |  \\ /  |  /)  -");cov_2f0fpvmyck().s[52]++;console.log("                 -\\  \\     /  /-");cov_2f0fpvmyck().s[53]++;console.log("                   \\  \\   /  /");}else{cov_2f0fpvmyck().b[0][1]++;}cov_2f0fpvmyck().s[54]++;console.log(isHit?(cov_2f0fpvmyck().b[1][0]++,cliColor.green("Yeah ! Nice hit !")):(cov_2f0fpvmyck().b[1][1]++,cliColor.red("Miss")));var computerPos=(cov_2f0fpvmyck().s[55]++,this.GetRandomPosition());cov_2f0fpvmyck().s[56]++;isHit=gameController.CheckIsHit(this.myFleet,computerPos);cov_2f0fpvmyck().s[57]++;console.log();cov_2f0fpvmyck().s[58]++;console.log(`> Computer shot in ${computerPos.column}${computerPos.row} and `+(isHit?(cov_2f0fpvmyck().b[2][0]++,cliColor.red(`has hit your ship !`)):(cov_2f0fpvmyck().b[2][1]++,cliColor.yellow(`miss`))));cov_2f0fpvmyck().s[59]++;if(isHit){cov_2f0fpvmyck().b[3][0]++;cov_2f0fpvmyck().s[60]++;beep();cov_2f0fpvmyck().s[61]++;console.log("                \\         .  ./");cov_2f0fpvmyck().s[62]++;console.log('              \\      .:";\'.:.."   /');cov_2f0fpvmyck().s[63]++;console.log("                  (M^^.^~~:.'\").");cov_2f0fpvmyck().s[64]++;console.log("            -   (/  .    . . \\ \\)  -");cov_2f0fpvmyck().s[65]++;console.log("               ((| :. ~ ^  :. .|))");cov_2f0fpvmyck().s[66]++;console.log("            -   (\\- |  \\ /  |  /)  -");cov_2f0fpvmyck().s[67]++;console.log("                 -\\  \\     /  /-");cov_2f0fpvmyck().s[68]++;console.log("                   \\  \\   /  /");}else{cov_2f0fpvmyck().b[3][1]++;}cov_2f0fpvmyck().s[69]++;delim();}static ParsePosition(input){cov_2f0fpvmyck().f[4]++;var letter=(cov_2f0fpvmyck().s[70]++,letters.get(input.toUpperCase().substring(0,1)));var number=(cov_2f0fpvmyck().s[71]++,parseInt(input.substring(1,2),10));cov_2f0fpvmyck().s[72]++;return new position(letter,number);}GetRandomPosition(){cov_2f0fpvmyck().f[5]++;var rows=(cov_2f0fpvmyck().s[73]++,8);var lines=(cov_2f0fpvmyck().s[74]++,8);var rndColumn=(cov_2f0fpvmyck().s[75]++,Math.floor(Math.random()*lines));var letter=(cov_2f0fpvmyck().s[76]++,letters.get(rndColumn+1));var number=(cov_2f0fpvmyck().s[77]++,Math.floor(Math.random()*rows));var result=(cov_2f0fpvmyck().s[78]++,new position(letter,number));cov_2f0fpvmyck().s[79]++;return result;}InitializeGame(){cov_2f0fpvmyck().f[6]++;var seed=(cov_2f0fpvmyck().s[80]++,Math.floor(Math.random()*config.length));cov_2f0fpvmyck().s[81]++;this.InitializeEnemyFleet(config[seed]);cov_2f0fpvmyck().s[82]++;this.enemyFleet.forEach(s=>{cov_2f0fpvmyck().f[7]++;cov_2f0fpvmyck().s[83]++;return console.log(s);},seed);cov_2f0fpvmyck().s[84]++;this.InitializeMyFleet();}InitializeMyFleet(){cov_2f0fpvmyck().f[8]++;cov_2f0fpvmyck().s[85]++;this.myFleet=gameController.InitializeShips();cov_2f0fpvmyck().s[86]++;console.log("Please position your fleet (Game board size is from A to H and 1 to 8) :");cov_2f0fpvmyck().s[87]++;this.myFleet.forEach(function(ship){cov_2f0fpvmyck().f[9]++;cov_2f0fpvmyck().s[88]++;console.log();cov_2f0fpvmyck().s[89]++;console.log(`Please enter the positions for the ${ship.name} (size: ${ship.size})`);cov_2f0fpvmyck().s[90]++;for(var i=(cov_2f0fpvmyck().s[91]++,1);i<ship.size+1;i++){const position=(cov_2f0fpvmyck().s[92]++,prompt(`Enter position ${i} of ${ship.size} (i.e A3):`));cov_2f0fpvmyck().s[93]++;ship.addPosition(Battleship.ParsePosition(position));}});}InitializeEnemyFleet(config){cov_2f0fpvmyck().f[10]++;cov_2f0fpvmyck().s[94]++;this.enemyFleet=gameController.InitializeShips();cov_2f0fpvmyck().s[95]++;this.enemyFleet.forEach((ship,index)=>{cov_2f0fpvmyck().f[11]++;cov_2f0fpvmyck().s[96]++;config[index].forEach(pos=>{cov_2f0fpvmyck().f[12]++;cov_2f0fpvmyck().s[97]++;ship.addPosition(new position(...pos));});});}}cov_2f0fpvmyck().s[98]++;module.exports=Battleship;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhdHRsZXNoaXAuanMiXSwibmFtZXMiOlsiZ2FtZUNvbnRyb2xsZXIiLCJyZXF1aXJlIiwiY2xpQ29sb3IiLCJiZWVwIiwicG9zaXRpb24iLCJsZXR0ZXJzIiwicHJvbXB0IiwiZGVsaW0iLCJtYWtlTWVudSIsImNvbmZpZyIsIkJhdHRsZXNoaXAiLCJzdGFydCIsImNvbnNvbGUiLCJsb2ciLCJtYWdlbnRhIiwic2hvd01lbnUiLCJ0aXRsZSIsImNhbGxiYWNrIiwibWFrZVR1cm4iLCJiaW5kIiwicHJvY2VzcyIsImV4aXQiLCJJbml0aWFsaXplR2FtZSIsIlN0YXJ0R2FtZSIsImNsZWFyIiwiUGFyc2VQb3NpdGlvbiIsImlzSGl0IiwiQ2hlY2tJc0hpdCIsImVuZW15RmxlZXQiLCJncmVlbiIsInJlZCIsImNvbXB1dGVyUG9zIiwiR2V0UmFuZG9tUG9zaXRpb24iLCJteUZsZWV0IiwiY29sdW1uIiwicm93IiwieWVsbG93IiwiaW5wdXQiLCJsZXR0ZXIiLCJnZXQiLCJ0b1VwcGVyQ2FzZSIsInN1YnN0cmluZyIsIm51bWJlciIsInBhcnNlSW50Iiwicm93cyIsImxpbmVzIiwicm5kQ29sdW1uIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicmVzdWx0Iiwic2VlZCIsImxlbmd0aCIsIkluaXRpYWxpemVFbmVteUZsZWV0IiwiZm9yRWFjaCIsInMiLCJJbml0aWFsaXplTXlGbGVldCIsIkluaXRpYWxpemVTaGlwcyIsInNoaXAiLCJuYW1lIiwic2l6ZSIsImkiLCJhZGRQb3NpdGlvbiIsImluZGV4IiwicG9zIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Im1tVEFlWTsyRkFmWixLQUFNQSxDQUFBQSxjQUFjLDBCQUFHQyxPQUFPLENBQUMsb0NBQUQsQ0FBVixDQUFwQixDQUNBLEtBQU1DLENBQUFBLFFBQVEsMEJBQUdELE9BQU8sQ0FBQyxXQUFELENBQVYsQ0FBZCxDQUNBLEtBQU1FLENBQUFBLElBQUksMEJBQUdGLE9BQU8sQ0FBQyxVQUFE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QUFDSSxJQUFELENBQU9LLEtBQVAsR0FBaUIsbURBQ3ZDdEQsTUFBTSxDQUFDc0QsS0FBRCxDQUFOLENBQWNULE9BQWQsQ0FBdUJVLEdBQUQsRUFBUyxtREFDN0JOLElBQUksQ0FBQ0ksV0FBTCxDQUFpQixHQUFJMUQsQ0FBQUEsUUFBSixDQUFhLEdBQUc0RCxHQUFoQixDQUFqQixFQUNELENBRkQsRUFHRCxDQUpELEVBS0QsQ0FsTGMsQyx5QkFxTGpCQyxNQUFNLENBQUNDLE9BQVAsQ0FBaUJ4RCxVQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGdhbWVDb250cm9sbGVyID0gcmVxdWlyZShcIi4vR2FtZUNvbnRyb2xsZXIvZ2FtZUNvbnRyb2xsZXIuanNcIik7XG5jb25zdCBjbGlDb2xvciA9IHJlcXVpcmUoXCJjbGktY29sb3JcIik7XG5jb25zdCBiZWVwID0gcmVxdWlyZShcImJlZXBiZWVwXCIpO1xuY29uc3QgcG9zaXRpb24gPSByZXF1aXJlKFwiLi9HYW1lQ29udHJvbGxlci9wb3NpdGlvbi5qc1wiKTtcbmNvbnN0IGxldHRlcnMgPSByZXF1aXJlKFwiLi9HYW1lQ29udHJvbGxlci9sZXR0ZXJzLmpzXCIpO1xuXG5jb25zdCBwcm9tcHQgPSByZXF1aXJlKFwiLi91dGlscy9wcm9tcHQuanNcIik7XG5jb25zdCBkZWxpbSA9IHJlcXVpcmUoXCIuL3V0aWxzL2RlbGltLmpzXCIpO1xuY29uc3QgbWFrZU1lbnUgPSByZXF1aXJlKFwiLi91dGlscy9tYWtlTWVudS5qc1wiKTtcbmNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoXCIuL0dhbWVDb250cm9sbGVyL2NvbmZpZy5qc1wiKTtcbmNsYXNzIEJhdHRsZXNoaXAge1xuICBzdGFydCgpIHtcbiAgICBjb25zb2xlLmxvZyhjbGlDb2xvci5tYWdlbnRhKFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxfX1wiKSk7XG4gICAgY29uc29sZS5sb2coY2xpQ29sb3IubWFnZW50YShcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XFxcXC9cIikpO1xuICAgIGNvbnNvbGUubG9nKGNsaUNvbG9yLm1hZ2VudGEoXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0tXCIpKTtcbiAgICBjb25zb2xlLmxvZyhjbGlDb2xvci5tYWdlbnRhKFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8gfCBbXCIpKTtcbiAgICBjb25zb2xlLmxvZyhjbGlDb2xvci5tYWdlbnRhKFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISAgICAgIHwgfHx8XCIpKTtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGNsaUNvbG9yLm1hZ2VudGEoXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy98ICAgICBfL3wtKysnXCIpXG4gICAgKTtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGNsaUNvbG9yLm1hZ2VudGEoXCIgICAgICAgICAgICAgICAgICAgICAgICArICArLS18ICAgIHwtLXwtLXxfIHwtXCIpXG4gICAgKTtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGNsaUNvbG9yLm1hZ2VudGEoXCIgICAgICAgICAgICAgICAgICAgICB7IC98X198ICB8L1xcXFxfX3wgIHwtLS0gfHx8X18vXCIpXG4gICAgKTtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGNsaUNvbG9yLm1hZ2VudGEoXG4gICAgICAgIFwiICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tLS0tX19fW30tXz09PV8uJ19fX18gICAgICAgICAgICAgICAgIC9cXFxcXCJcbiAgICAgIClcbiAgICApO1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgY2xpQ29sb3IubWFnZW50YShcbiAgICAgICAgXCIgICAgICAgICAgICAgICAgX19fX2AtJyB8fF9fXy17XV98IF9bfS0gIHwgICAgIHxfW19fX1xcXFw9PS0tICAgICAgICAgICAgXFxcXC8gICBfXCJcbiAgICAgIClcbiAgICApO1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgY2xpQ29sb3IubWFnZW50YShcbiAgICAgICAgXCIgX18uLi5fX19fXy0tPT0vX19fXV98X198X19fX19fX19fX19fX19fX19fX19fX19fX19fX19bX19fXFxcXD09LS1fX19fLC0tLS0tLScgLjdcIlxuICAgICAgKVxuICAgICk7XG4gICAgY29uc29sZS5sb2coXG4gICAgICBjbGlDb2xvci5tYWdlbnRhKFxuICAgICAgICBcInwgICAgICAgICAgICAgICAgICAgICAgICBXZWxjb21lIHRvIEJhdHRsZXNoaXAgICAgICAgICAgICAgICAgICAgICAgICAgQkItNjEvXCJcbiAgICAgIClcbiAgICApO1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgY2xpQ29sb3IubWFnZW50YShcbiAgICAgICAgXCIgXFxcXF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX198XCJcbiAgICAgIClcbiAgICApO1xuICAgIGNvbnNvbGUubG9nKCk7XG5cbiAgICB0aGlzLnNob3dNZW51ID0gbWFrZU1lbnUoe1xuICAgICAgMToge1xuICAgICAgICB0aXRsZTogXCJNYWtlIGEgdHVyblwiLFxuICAgICAgICBjYWxsYmFjazogdGhpcy5tYWtlVHVybi5iaW5kKHRoaXMpLFxuICAgICAgfSxcbiAgICAgIDI6IHtcbiAgICAgICAgdGl0bGU6IFwiRXhpdFwiLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHByb2Nlc3MuZXhpdCgwKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLkluaXRpYWxpemVHYW1lKCk7XG4gICAgdGhpcy5TdGFydEdhbWUoKTtcbiAgfVxuXG4gIFN0YXJ0R2FtZSgpIHtcbiAgICBjb25zb2xlLmNsZWFyKCk7XG4gICAgY29uc29sZS5sb2coXCIgICAgICAgICAgICAgICAgICBfX1wiKTtcbiAgICBjb25zb2xlLmxvZyhcIiAgICAgICAgICAgICAgICAgLyAgXFxcXFwiKTtcbiAgICBjb25zb2xlLmxvZyhcIiAgICAgICAgICAgLi0uICB8ICAgIHxcIik7XG4gICAgY29uc29sZS5sb2coXCIgICAqICAgIF8uLScgIFxcXFwgIFxcXFxfXy9cIik7XG4gICAgY29uc29sZS5sb2coXCIgICAgXFxcXC4tJyAgICAgICBcXFxcXCIpO1xuICAgIGNvbnNvbGUubG9nKFwiICAgLyAgICAgICAgICBfL1wiKTtcbiAgICBjb25zb2xlLmxvZyhcIiAgfCAgICAgIF8gIC9cIik7XG4gICAgY29uc29sZS5sb2coXCIgIHwgICAgIC9fXFxcXCdcIik7XG4gICAgY29uc29sZS5sb2coXCIgICBcXFxcICAgIFxcXFxfL1wiKTtcbiAgICBjb25zb2xlLmxvZygnICAgIFwiXCJcIlwiJyk7XG5cbiAgICBkbyB7XG4gICAgICB0aGlzLnNob3dNZW51KCk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uXG4gICAgfSB3aGlsZSAodHJ1ZSk7XG4gIH1cblxuICBtYWtlVHVybigpIHtcbiAgICBkZWxpbSgpO1xuICAgIGNvbnNvbGUubG9nKFwiPCBQbGF5ZXIsIGl0J3MgeW91ciB0dXJuXCIpO1xuICAgIHZhciBwb3NpdGlvbiA9IEJhdHRsZXNoaXAuUGFyc2VQb3NpdGlvbihcbiAgICAgIHByb21wdChcIkVudGVyIGNvb3JkaW5hdGVzIGZvciB5b3VyIHNob3QgOlwiKVxuICAgICk7XG4gICAgdmFyIGlzSGl0ID0gZ2FtZUNvbnRyb2xsZXIuQ2hlY2tJc0hpdCh0aGlzLmVuZW15RmxlZXQsIHBvc2l0aW9uKTtcbiAgICBpZiAoaXNIaXQpIHtcbiAgICAgIGJlZXAoKTtcblxuICAgICAgY29uc29sZS5sb2coXCIgICAgICAgICAgICAgICAgXFxcXCAgICAgICAgIC4gIC4vXCIpO1xuICAgICAgY29uc29sZS5sb2coJyAgICAgICAgICAgICAgXFxcXCAgICAgIC46XCI7XFwnLjouLlwiICAgLycpO1xuICAgICAgY29uc29sZS5sb2coXCIgICAgICAgICAgICAgICAgICAoTV5eLl5+fjouJ1xcXCIpLlwiKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiICAgICAgICAgICAgLSAgICgvICAuICAgIC4gLiBcXFxcIFxcXFwpICAtXCIpO1xuICAgICAgY29uc29sZS5sb2coXCIgICAgICAgICAgICAgICAoKHwgOi4gfiBeICA6LiAufCkpXCIpO1xuICAgICAgY29uc29sZS5sb2coXCIgICAgICAgICAgICAtICAgKFxcXFwtIHwgIFxcXFwgLyAgfCAgLykgIC1cIik7XG4gICAgICBjb25zb2xlLmxvZyhcIiAgICAgICAgICAgICAgICAgLVxcXFwgIFxcXFwgICAgIC8gIC8tXCIpO1xuICAgICAgY29uc29sZS5sb2coXCIgICAgICAgICAgICAgICAgICAgXFxcXCAgXFxcXCAgIC8gIC9cIik7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coXG4gICAgICBpc0hpdCA/IGNsaUNvbG9yLmdyZWVuKFwiWWVhaCAhIE5pY2UgaGl0ICFcIikgOiBjbGlDb2xvci5yZWQoXCJNaXNzXCIpXG4gICAgKTtcblxuICAgIHZhciBjb21wdXRlclBvcyA9IHRoaXMuR2V0UmFuZG9tUG9zaXRpb24oKTtcbiAgICBpc0hpdCA9IGdhbWVDb250cm9sbGVyLkNoZWNrSXNIaXQodGhpcy5teUZsZWV0LCBjb21wdXRlclBvcyk7XG4gICAgY29uc29sZS5sb2coKTtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGA+IENvbXB1dGVyIHNob3QgaW4gJHtjb21wdXRlclBvcy5jb2x1bW59JHtjb21wdXRlclBvcy5yb3d9IGFuZCBgICtcbiAgICAgICAgKGlzSGl0ID8gY2xpQ29sb3IucmVkKGBoYXMgaGl0IHlvdXIgc2hpcCAhYCkgOiBjbGlDb2xvci55ZWxsb3coYG1pc3NgKSlcbiAgICApO1xuICAgIGlmIChpc0hpdCkge1xuICAgICAgYmVlcCgpO1xuXG4gICAgICBjb25zb2xlLmxvZyhcIiAgICAgICAgICAgICAgICBcXFxcICAgICAgICAgLiAgLi9cIik7XG4gICAgICBjb25zb2xlLmxvZygnICAgICAgICAgICAgICBcXFxcICAgICAgLjpcIjtcXCcuOi4uXCIgICAvJyk7XG4gICAgICBjb25zb2xlLmxvZyhcIiAgICAgICAgICAgICAgICAgIChNXl4uXn5+Oi4nXFxcIikuXCIpO1xuICAgICAgY29uc29sZS5sb2coXCIgICAgICAgICAgICAtICAgKC8gIC4gICAgLiAuIFxcXFwgXFxcXCkgIC1cIik7XG4gICAgICBjb25zb2xlLmxvZyhcIiAgICAgICAgICAgICAgICgofCA6LiB+IF4gIDouIC58KSlcIik7XG4gICAgICBjb25zb2xlLmxvZyhcIiAgICAgICAgICAgIC0gICAoXFxcXC0gfCAgXFxcXCAvICB8ICAvKSAgLVwiKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiICAgICAgICAgICAgICAgICAtXFxcXCAgXFxcXCAgICAgLyAgLy1cIik7XG4gICAgICBjb25zb2xlLmxvZyhcIiAgICAgICAgICAgICAgICAgICBcXFxcICBcXFxcICAgLyAgL1wiKTtcbiAgICB9XG4gICAgZGVsaW0oKTtcbiAgfVxuXG4gIHN0YXRpYyBQYXJzZVBvc2l0aW9uKGlucHV0KSB7XG4gICAgdmFyIGxldHRlciA9IGxldHRlcnMuZ2V0KGlucHV0LnRvVXBwZXJDYXNlKCkuc3Vic3RyaW5nKDAsIDEpKTtcbiAgICB2YXIgbnVtYmVyID0gcGFyc2VJbnQoaW5wdXQuc3Vic3RyaW5nKDEsIDIpLCAxMCk7XG4gICAgcmV0dXJuIG5ldyBwb3NpdGlvbihsZXR0ZXIsIG51bWJlcik7XG4gIH1cblxuICBHZXRSYW5kb21Qb3NpdGlvbigpIHtcbiAgICB2YXIgcm93cyA9IDg7XG4gICAgdmFyIGxpbmVzID0gODtcbiAgICB2YXIgcm5kQ29sdW1uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbGluZXMpO1xuICAgIHZhciBsZXR0ZXIgPSBsZXR0ZXJzLmdldChybmRDb2x1bW4gKyAxKTtcbiAgICB2YXIgbnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcm93cyk7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBwb3NpdGlvbihsZXR0ZXIsIG51bWJlcik7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIEluaXRpYWxpemVHYW1lKCkge1xuICAgIHZhciBzZWVkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY29uZmlnLmxlbmd0aClcbiAgICB0aGlzLkluaXRpYWxpemVFbmVteUZsZWV0KGNvbmZpZ1tzZWVkXSk7XG4gICAgdGhpcy5lbmVteUZsZWV0LmZvckVhY2gocyA9PiBjb25zb2xlLmxvZyhzKSwgc2VlZClcbiAgICB0aGlzLkluaXRpYWxpemVNeUZsZWV0KCk7XG4gIH1cblxuICBJbml0aWFsaXplTXlGbGVldCgpIHtcbiAgICB0aGlzLm15RmxlZXQgPSBnYW1lQ29udHJvbGxlci5Jbml0aWFsaXplU2hpcHMoKTtcblxuICAgIGNvbnNvbGUubG9nKFxuICAgICAgXCJQbGVhc2UgcG9zaXRpb24geW91ciBmbGVldCAoR2FtZSBib2FyZCBzaXplIGlzIGZyb20gQSB0byBIIGFuZCAxIHRvIDgpIDpcIlxuICAgICk7XG5cbiAgICB0aGlzLm15RmxlZXQuZm9yRWFjaChmdW5jdGlvbiAoc2hpcCkge1xuICAgICAgY29uc29sZS5sb2coKTtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBgUGxlYXNlIGVudGVyIHRoZSBwb3NpdGlvbnMgZm9yIHRoZSAke3NoaXAubmFtZX0gKHNpemU6ICR7c2hpcC5zaXplfSlgXG4gICAgICApO1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBzaGlwLnNpemUgKyAxOyBpKyspIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBwcm9tcHQoXG4gICAgICAgICAgYEVudGVyIHBvc2l0aW9uICR7aX0gb2YgJHtzaGlwLnNpemV9IChpLmUgQTMpOmBcbiAgICAgICAgKTtcbiAgICAgICAgc2hpcC5hZGRQb3NpdGlvbihCYXR0bGVzaGlwLlBhcnNlUG9zaXRpb24ocG9zaXRpb24pKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIEluaXRpYWxpemVFbmVteUZsZWV0KGNvbmZpZykge1xuICAgIHRoaXMuZW5lbXlGbGVldCA9IGdhbWVDb250cm9sbGVyLkluaXRpYWxpemVTaGlwcygpO1xuXG5cbiAgICB0aGlzLmVuZW15RmxlZXQuZm9yRWFjaCgoc2hpcCwgaW5kZXgpID0+IHtcbiAgICAgIGNvbmZpZ1tpbmRleF0uZm9yRWFjaCgocG9zKSA9PiB7XG4gICAgICAgIHNoaXAuYWRkUG9zaXRpb24obmV3IHBvc2l0aW9uKC4uLnBvcykpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBCYXR0bGVzaGlwO1xuIl19